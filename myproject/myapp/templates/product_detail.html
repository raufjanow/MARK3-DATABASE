<!DOCTYPE html>
<html>
<head>
    <title>Product Detail</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'ddetail.css' %}">
</head>
<body>
    <div class="container">
        <h1>{{ product.name }}</h1>
        <p>Price: {{ product.price }}</p>
        <p>Description: {{ product.description }}</p>
        <p>Created at: {{ product.created_at }}</p>
        <a href="{% url 'update_product' product.pk %}">Edit</a>
        <a href="{% url 'delete_product' product.pk %}" id="deleteLink">Delete</a>
        <a href="{% url 'product_list' %}">Back to Product List</a>
    </div>

    <script>
        // Confirmation prompt for delete action
        document.getElementById('deleteLink').addEventListener('click', function(event) {
            let confirmed = confirm("Are you sure you want to delete this product?");
            if (!confirmed) {
                event.preventDefault();  // Prevent navigation if not confirmed
            }
        });

        // Optional: Auto-refresh the page every 30 seconds to update product details
        setInterval(function() {
            location.reload();  // Refresh the page
        }, 30000);  // 30 seconds

    </script>
</body>
</html>
